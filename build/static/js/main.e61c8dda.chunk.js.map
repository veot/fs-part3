{"version":3,"sources":["services/person.js","components/Filter.js","components/PersonForm.js","components/Person.js","components/Numbers.js","components/Notification.js","App.js","index.js"],"names":["baseURL","axios","get","then","res","data","newObj","post","id","put","delete","Filter","state","onChange","value","PersonForm","props","onSubmit","nameState","onNameChange","type","numberState","onNumberChange","Person","person","onRemove","name","number","onClick","Numbers","allPersons","nameFilter","handleRemove","persons","filter","p","toLowerCase","startsWith","map","styleSuccess","background","fontSize","color","padding","borderStyle","borderRadius","marginBottom","styleError","Notification","message","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNameFilter","msgSuccess","setMsgSuccess","msgError","setMsgError","useEffect","personService","e","target","preventDefault","existing","find","window","confirm","updated","catch","err","response","error","created","concat","setTimeout","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e61c8dda.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseURL = \"/api/persons\";\n\nconst getAll = () => axios.get(baseURL).then((res) => res.data);\n\nconst create = (newObj) => axios.post(baseURL, newObj).then((res) => res.data);\n\nconst update = (id, newObj) =>\n  axios.put(`${baseURL}/${id}`, newObj).then((res) => res.data);\n\nconst remove = (id) => axios.delete(`${baseURL}/${id}`).then((res) => res.data);\n\nexport default { getAll, create, update, remove };\n","const Filter = ({ state, onChange }) => {\n  return (\n    <div>\n      filter names with <input value={state} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","const PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n      <div>\n        name: <input value={props.nameState} onChange={props.onNameChange} />\n      </div>\n      <div>\n        number:{\" \"}\n        <input\n          type=\"tel\"\n          value={props.numberState}\n          onChange={props.onNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","const Person = ({ person, onRemove }) => {\n  return (\n    <li>\n      {person.name} {person.number} <button onClick={onRemove}>remove</button>\n    </li>\n  );\n};\n\nexport default Person;\n","import Person from \"./Person\";\n\nconst Numbers = ({ allPersons, nameFilter, handleRemove }) => {\n  const persons = nameFilter\n    ? allPersons.filter((p) =>\n        p.name.toLowerCase().startsWith(nameFilter.toLowerCase())\n      )\n    : allPersons;\n  return (\n    <ul>\n      {persons.map((p) => (\n        <Person key={p.id} person={p} onRemove={() => handleRemove(p.id)} />\n      ))}\n    </ul>\n  );\n};\n\nexport default Numbers;\n","const styleSuccess = {\n  background: \"lightgrey\",\n  fontSize: 20,\n  color: \"green\",\n  padding: 10,\n  borderStyle: \"solid\",\n  borderRadius: 5,\n  marginBottom: 10,\n};\n\nconst styleError = { ...styleSuccess, color: \"red\" };\n\nconst Notification = ({ message, type }) => {\n  if (message === null) return null;\n  const style = type === \"error\" ? styleError : styleSuccess;\n  return <div style={style}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport personService from \"./services/person\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Numbers from \"./components/Numbers\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [nameFilter, setNameFilter] = useState(\"\");\n  const [msgSuccess, setMsgSuccess] = useState(null);\n  const [msgError, setMsgError] = useState(null);\n\n  useEffect(\n    () => personService.getAll().then((persons) => setPersons(persons)),\n    []\n  );\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (newName === \"\") return;\n    const existing = persons.find((p) => p.name === newName);\n    if (existing) {\n      const ok = window.confirm(\n        `${newName} is already in phonebook, replace old number with new?`\n      );\n      if (ok) {\n        personService\n          .update(existing.id, { name: newName, number: newNumber })\n          .then((updated) => {\n            setPersons(persons.map((p) => (p.id !== updated.id ? p : updated)));\n            setMsgSuccess(`Updated ${newName}`);\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n          .catch((err) => {\n            setMsgError(err.response.data.error);\n            return;\n          });\n      } else {\n        return;\n      }\n    } else {\n      personService\n        .create({ name: newName, number: newNumber })\n        .then((created) => {\n          setPersons(persons.concat(created));\n        })\n        .catch((err) => {\n          setMsgError(err.response.data.error);\n          return;\n        });\n    }\n    setTimeout(() => setMsgSuccess(null), 3000);\n    setTimeout(() => setMsgError(null), 5000);\n  };\n\n  const handleRemove = (id) => {\n    const personToRemove = persons.find((p) => p.id === id);\n    if (window.confirm(`Remove ${personToRemove.name} ?`)) {\n      personService\n        .remove(id)\n        .then(() =>\n          setPersons(persons.filter((p) => p.id !== personToRemove.id))\n        );\n    }\n  };\n\n  const handleNameChange = (e) => setNewName(e.target.value);\n\n  const handleNumberChange = (e) => setNewNumber(e.target.value);\n\n  const handleNameFilterChange = (e) => setNameFilter(e.target.value);\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={msgSuccess} type=\"success\" />\n      <Notification message={msgError} type=\"error\" />\n      <Filter state={nameFilter} onChange={handleNameFilterChange} />\n      <h2>Add new contact</h2>\n      <PersonForm\n        onSubmit={handleSubmit}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n        nameState={newName}\n        numberState={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Numbers\n        allPersons={persons}\n        nameFilter={nameFilter}\n        handleRemove={handleRemove}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}